# –†–∞–±–æ—Ç–∞ —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

–£ –¥–∞–Ω–Ω—ã—Ö –≤ –æ—á–µ—Ä–µ–¥–∏, –ø–æ–º–∏–º–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –µ—Å—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã.

–ß—Ç–æ–±—ã –∏—Ö –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–∂–∞—Ç—å –Ω–∞ –Ω–µ–ø—É—Å—Ç—É—é –æ—á–µ—Ä–µ–¥—å –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –∏ –≤—ã–±—Ä–∞—Ç—å –ø—É–Ω–∫—Ç **List queue**. –û—Ç–∫—Ä–æ–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –æ—á–µ—Ä–µ–¥–∏.
<br/>![Nifi Attr Queue](images/nifi_attr_queue.png)
<br/>–í –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∏. 
<br/>–°–ø—Ä–∞–≤–∞ –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç —Ç–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∞ üëÅ - **View content** –æ—Ç–∫—Ä–æ–µ—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ–±—ä–µ–∫—Ç–∞ (content).
<br/>–ö–Ω–æ–ø–∫–∞ —Å–ª–µ–≤–∞ üõà - **View details** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞ –æ—á–µ—Ä–µ–¥–∏. –ï—Å–ª–∏ –º—ã –µ–µ –Ω–∞–∂–º–µ–º —Ç–æ –≤–æ –≤–∫–ª–∞–¥–∫–µ **Attributes** –º—ã —É–≤–∏–ª–∏–º –∞—Ç—Ä–∏–±—É—Ç—ã –æ–±—ä–µ–∫—Ç–∞, –Ω–∞—à–∏ –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ.
<br/>![Nifi Attr FlowFile](images/nifi_attr_flowfile.png)

## –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∏–∑ JSON
–î–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∏–∑ JSON –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **EvaluateJsonPath** –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä.

–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç—ã –∫ –ø–æ—Ç–æ–∫—É –¥–∞–Ω–Ω—ã—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö –≤ —Å–≤–æ–π—Å—Ç–≤–∞—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞. 
<br/>–í–æ –≤–∫–ª–∞–¥–∫–µ **Properties**, –Ω–∞–∂–∏–º–∞–µ–º –∫–Ω–æ–ø–∫—É **Add Property** –∏ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è (JSON —Å–µ–ª–µ–∫—Ç–æ—Ä).
<br/>![Nifi Add Prop](images/nifi_add_prop.png)
<br/>–ò –¥–æ–±–∞–≤–ª—è–µ–º –Ω—É–∂–Ω—ã–µ –Ω–∞–º –∞—Ç—Ä–∏–±—É—Ç—ã.
<br/>![Nifi EJP](images/nifi_ejp.png)
<br/>–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä –∏–∑–≤–ª–µ—á–µ—Ç –∏–∑ JSON –Ω—É–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –¥–æ–±–∞–≤–∏—Ç –∏—Ö –∫ –∞—Ç—Ä–∏–±—É—Ç–∞–º –æ–±—ä–µ–∫—Ç–∞.

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/–£–¥–∞–ª–µ–Ω–∏–µ/–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
–ï—Å–ª–∏ –µ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å 
* –î–æ–±–∞–≤–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–æ–∞–Ω–∏–∏ –¥—Ä—É–≥–∏—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤;
* –û–±–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞;
* –£–¥–∞–ª–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∞—Ç—Ä–∏–±—É—Ç.

–¢–æ –¥–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ—Ü–µ—Å–æ—Ä **UpdateAttribute**.
<br/>–í–æ –≤–∫–ª–∞–¥–∫–µ **Properties**, –Ω–∞–∂–∏–º–∞–µ–º –∫–Ω–æ–ø–∫—É **Add Property** –∏ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è.
<br/>![Nifi Add Prop](images/nifi_add_prop.png)
<br/>–ù–∞–ø—Ä–∏–º–µ—Ä –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç ObjectPrimaryKeyValue, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–¥—É–±–ª–∏—Ä—É–µ—Ç ObjectPrimaryKey –∏ –ø–æ–º–µ—Å—Ç–∏—Ç –µ–≥–æ –≤ –∫–∞–≤—ã—á–∫–∏, –∏ –¥–æ–±–∞–≤–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç ObjectTypeName, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏–º—è —Ç–∏–ø–∞ –∏–∑ –ø–æ–ª–Ω–æ–≥–æ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è.
<br/>**ObjectPrimaryKeyValue** = '\${ObjectPrimaryKey}'
<br/>**ObjectTypeName** = \${ObjectType:replace('IIS.NiFiSample.', ''):substringBefore(',')}
<br/>ObjectTypeName –∏–∑ *IIS.NiFiSample.Brand, NiFiSample.Objects, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null* –∏–∑–≤–ª–µ—á–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ *Brand*
<br/>![Nifi Attr Update](images/nifi_attr_update.png)

–ï—Å–ª–∏ –∏–º—è –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∞—Ç—Ä–∏–±—É—Ç–æ–º —É –æ–±—ä–µ–∫—Ç–∞, —Ç–æ –æ–Ω –±—É–¥–µ—Ç –∑–∞–º–µ–Ω–µ–Ω –Ω–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º.

–î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å regex –≤ –ø–æ–ª–µ **Delete Attributes Expression**. –ë—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –∞—Ç—Ä–∏–±—É—Ç—ã, –∏–º–µ–Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é.

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –æ–±—ä–µ–∫—Ç–∞, —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä **ExtractText**.

<br/>–í–æ –≤–∫–ª–∞–¥–∫–µ **Properties**, –Ω–∞–∂–∏–º–∞–µ–º –∫–Ω–æ–ø–∫—É **Add Property** –∏ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è (regex).
<br/>![Nifi Add Prop](images/nifi_add_prop.png)
<br/>–ù–∞–ø—Ä–∏–º–µ—Ä –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç CarData, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–µ—Å—å —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –æ–±—ä–µ–∫—Ç–∞.
<br/>**CarData** = (.*)
<br/>![Nifi Attr Extract](images/nifi_attr_extract.png)

## –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤
–ï—Å–ª–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ–±—ä–µ–∫—Ç–æ–≤, —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä **RouteOnAttribute**

[–û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞—Ç—å—è: –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä —É—Å–ª–æ–≤–∏–π RouteOnAttribute](%D0%9F%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BE%D1%80%20%D1%83%D1%81%D0%BB%D0%BE%D0%B2%D0%B8%D0%B9%20RouteOnAttribute.md)

## –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –≤ JSON
–ï—Å–ª–∏ –Ω–µ–æ–±—ä–æ–¥–∏–º–æ –∏–∑ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –æ–±—ä–µ–∫—Ç–∞ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å JSON, —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä **AttributesToJSON**.

<br/>–í–æ –≤–∫–ª–∞–¥–∫–µ **Properties**, –ø–æ–ª–µ **Attributes List** –ø–µ—Ä–µ—á–∏—Å–ª—è–µ–º —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é —Ç–µ –∞—Ç—Ä–∏–±—É—Ç—ã, —á—Ç–æ –ø–æ–ø–∞–¥—É—Ç –≤ JSON
<br/>**Destination** = flowfile-content
<br/>![Nifi Attr toJSON](images/nifi_attr_toJSON.png)